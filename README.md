# Copula-based-Risk-Aggregation


## Introduction

This repository contains two Python scripts that demonstrate innovative approaches to financial data analysis and simulation using quantum computing algorithms. The first script, `quantum_algorithm.py`, implements a quantum computing algorithm to solve a particular problem or perform data analysis. The second script, `financial_data_simulation.py`, simulates financial data using classical statistical methods and possibly prepares it for quantum analysis.

## Overview

### quantum_algorithm.py

This script implements a quantum algorithm using Qiskit, a framework for quantum computing. It includes the creation of a parameterized quantum circuit and utilizes quantum simulation to perform computations. This could be particularly useful for complex computations that classical computers struggle with, such as optimizing financial portfolios or simulating quantum financial models.

### financial_data_simulation.py

This script generates simulated financial data using numpy, pandas, and scipy libraries. It focuses on creating skewed data distributions, adjusting them for desired means and standard deviations, and employing copulas for multivariate data simulation. This simulated data can be used for testing financial models, algorithms, or for educational purposes.

## Prerequisites
  

Ensure you have Python installed on your system. This project requires a set of Python libraries that can be installed using a `requirements.txt` file.
  

```bash

pip install -r requirements.txt

```
  

The `requirements.txt` file contains all the necessary Python packages to run this project, including libraries for quantum simulation and optimization.

## financial_data_simulation

The script `financial_data_simulation.py` performs the following operations:

1. **Data Generation:** Simulate data for financial indices with specified mean, standard deviation, and skewness.
2. **Data Scaling:** Scale the generated data to a specified range.
3. **Uniform Transformation:** Transform the data to a uniform distribution in preparation for copula modeling.
4. **Copula Modeling:** Use a Gaussian copula to model the dependencies between the different indices.
5. **Sample Generation:** Generate a new dataset from the copula model.
6. **Visualization:** Generate and save pairplot visualizations of the original, scaled, uniform, and sampled data.
7. **Data Export:** Export the sampled data to a CSV file for further analysis.

### Usage
```bash
python financial_data_simulation.py
```
### Output


- `generated_data_visualization.png`: Visualization of the original generated data.
- `scaled_data_visualization.png`: Visualization of the scaled data.
- `uniform_data_visualization.png`: Visualization of the data transformed to a uniform distribution.
- `sampled_data_visualization.png`: Visualization of the data sampled from the copula model.
- `sampled_data.csv`: CSV file containing the sampled data.

## quantum_algorithm

## Usage  

To run a quantum simulation, execute the `quantum_algorithm.py` script with specified command-line arguments for the configuration of the quantum circuit and simulation parameters.

### Command Line Arguments


-  `--n`: Number of assets.

-  `--m`: Number of qubits representing each asset.

-  `--layers`: Number of layers in the quantum circuit.

-  `--file`: Path where the data file in CSV is in (it must be separated by comma ",").

  

### Example

Run a simulation with 3 qubits, mode 1, 2 layers with the data  in `pseduosample_t_3_assets.csv`:
  

```bash

python  quantum_algorithm.py  --n  3  --m  2  --layers  2  --file  "pseduosample_t_3_assets.csv"
```

```bash

python  quantum_algorithm.py  --n  4  --m  3  --layers  2  --file  "pseduosample_t_4_assets.csv"
```

### Expected Output

  
#### Terminal Output

  
Upon  execution,  the  program  prints  the  quantum  circuit  diagram,  the  optimal  parameters  found,  and  the  final  cost (KL Divergence) to the terminal.

-  **Quantum  Circuit  Diagram**:  A  visual  representation  of  the  quantum  circuit,  detailing  qubits,  gates (Hadamard, rotation,  and  two-qubit  gates), and measurements.

-  **Optimal  Parameters**:  The  angles  used  in  rotation  gates  that  minimize  the  KL  Divergence,  showing  how  the  quantum  circuit  is  configured  for  best  results.

-  **Final  Cost (KL Divergence)**: Indicates the difference between the probability distributions generated by the quantum simulation and a target distribution, with a lower value suggesting a closer match.

  
### Output Images

The simulation generates two specific images based on the simulation results:

 1.  **Cost Function Over Iterations**: This image displays the progression of the cost function value over each iteration of the optimization process. It is saved with a filename indicating the current timestamp, for example, `cost_function_YYYYMMDD-HHMMSS.png`. The plot helps in visualizing the optimization process, showing how the cost function value decreases as the algorithm iterates towards finding the optimal parameters.
 
 2.  **Sample Distribution**: After the simulation is completed with the optimized quantum circuit, this image shows the histogram of the sample distribution obtained from the simulation. It is also saved with a timestamp in the filename, like `sample_distribution_YYYYMMDD-HHMMSS.png`. This histogram represents the probability distribution of different quantum states as measured in the simulation, offering insights into the outcomes of the quantum computation.


These  files  provide  a  detailed  record  and  visual  summary  of  the  simulation,  aiding  in  analysis  and  interpretation  of  the  results.